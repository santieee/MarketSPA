(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{111:function(t,e,o){"use strict";o.r(e);var r=o(2),i={data:function(){return{formAddItem:{title:"",description:"",count:"",price:"",photo:[]},uplPhoto:[],buttonLoading:!1}},validations:{formAddItem:{title:{required:r.required},description:{required:r.required},count:{required:r.required},price:{required:r.required},photo:{required:r.required}}},methods:{changePhoto:function(t){var e=this;if(t.target.files.length>3)alert("Maximum 4 photo");else{var o=!0,r=!1,i=void 0;try{for(var n,a=t.target.files[Symbol.iterator]();!(o=(n=a.next()).done);o=!0){var d=n.value;if(d.size>1e7){alert("Photo must be less 1mb");break}if("image/jpeg"!==d.type&&"image/png"!==d.type){alert("Only jpeg/png!");break}if(this.uplPhoto.length>3){alert("Maximum 4 photo");break}this.formAddItem.photo.push(d);var s=new FileReader;s.onload=function(t){e.uplPhoto.push(t.target.result)},s.readAsDataURL(d)}}catch(t){r=!0,i=t}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}}},deletePhoto:function(t){this.uplPhoto.splice(t,1),this.formAddItem.photo.splice(t,1)},addItem:function(){var t=this;this.validate(),this.$v.$error||(this.buttonLoading=!0,this.$store.dispatch("addItem",this.formAddItem).then(function(e){t.clearForm(),t.$v.$reset()}).finally(function(){return t.buttonLoading=!1}))},clearForm:function(){var t=this.formAddItem;t.title=t.description=t.price=t.count="",this.uplPhoto=t.photo=[],this.uplPhoto=JSON.parse(JSON.stringify(this.uplPhoto)),this.$refs.itemImage.value=""},validate:function(){this.$v.formAddItem.title.$touch(),this.$v.formAddItem.description.$touch(),this.$v.formAddItem.count.$touch(),this.$v.formAddItem.price.$touch(),this.$v.formAddItem.photo.$touch()}}},n=(o(30),o(1)),a=Object(n.a)(i,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-expansion-panels",[o("v-expansion-panel",[o("v-expansion-panel-header",[t._v("Add item")]),t._v(" "),o("v-expansion-panel-content",[o("v-text-field",{attrs:{label:"Title","error-messages":t.$v.formAddItem.title.$error?"Title is required":""},model:{value:t.formAddItem.title,callback:function(e){t.$set(t.formAddItem,"title",e)},expression:"formAddItem.title"}}),t._v(" "),o("v-textarea",{attrs:{label:"Description",rows:"1","error-messages":t.$v.formAddItem.description.$error?"Description is required":""},model:{value:t.formAddItem.description,callback:function(e){t.$set(t.formAddItem,"description",e)},expression:"formAddItem.description"}}),t._v(" "),o("v-text-field",{attrs:{label:"Price",type:"number","append-icon":"mdi-currency-usd",min:"1","error-messages":t.$v.formAddItem.price.$error?"Enter a price":""},model:{value:t.formAddItem.price,callback:function(e){t.$set(t.formAddItem,"price",e)},expression:"formAddItem.price"}}),t._v(" "),o("v-text-field",{attrs:{label:"Count",type:"number",min:"1","error-messages":t.$v.formAddItem.count.$error?"Enter a count":""},model:{value:t.formAddItem.count,callback:function(e){t.$set(t.formAddItem,"count",e)},expression:"formAddItem.count"}}),t._v(" "),o("input",{ref:"itemImage",staticClass:"profile-image-input",attrs:{type:"file",multiple:""},on:{change:t.changePhoto}}),t._v(" "),t.$v.formAddItem.photo.$error?o("v-alert",{staticClass:"m-4",attrs:{type:"error",outlined:""}},[t._v("\n                Choose photo for your product\n            ")]):t._e(),t._v(" "),o("v-btn",{staticClass:"btn_addPhoto",attrs:{color:"secondary",rounded:""},on:{click:function(e){return t.$refs.itemImage.click()}}},[t._v("  \n               Add photo\n            ")]),t._v(" "),t.uplPhoto.length>0?o("div",{staticClass:"block_items_photo"},t._l(t.uplPhoto,function(e,r){return o("v-fade-transition",{key:r},[o("v-img",{staticClass:"items_photo",attrs:{src:e,"max-width":"200px","max-height":"120px"}},[o("v-btn",{staticClass:"btn_photo",attrs:{text:"",light:"",fab:"","x-small":""},on:{click:function(e){return t.deletePhoto(r)}}},[o("v-icon",[t._v("mdi-close-circle")])],1)],1)],1)}),1):t._e(),t._v(" "),o("v-divider"),t._v(" "),o("v-btn",{staticClass:"submit_add-form",attrs:{block:"",color:"primary",loading:t.buttonLoading,disabled:t.buttonLoading},on:{click:t.addItem}},[t._v("\n                Add item\n            ")])],1)],1)],1)},[],!1,null,"30e51fc3",null);e.default=a.exports},30:function(t,e,o){"use strict";var r=o(9);o.n(r).a},31:function(t,e,o){(t.exports=o(6)(!1)).push([t.i,"\n.profile-image-input[data-v-30e51fc3] {\r\n    display: none;\n}\n.items_photo[data-v-30e51fc3]{\r\n    margin: 10px;\r\n    border: 3px solid grey;\r\n    border-radius: 10%;\r\n    transition: 1s;\r\n    float: left;\n}\n.items_photo[data-v-30e51fc3]:first-child{\r\n    border: 3px solid gold;\n}\n.items_photo[data-v-30e51fc3]:hover{\r\n    transform: scale(1.7);\r\n    z-index: 10;\n}\n.btn_photo[data-v-30e51fc3]{\r\n    float: right;\n}\n.btn_photo[data-v-30e51fc3]:hover{\r\n    transform: scale(1.2);\n}\n.submit_add-form[data-v-30e51fc3]{\r\n    margin-top: 20px;\n}\n.btn_addPhoto[data-v-30e51fc3]{\r\n    margin-top: 15px;\n}\n.block_items_photo[data-v-30e51fc3]{\r\n    display: table;\n}\nbutton[data-v-30e51fc3]{\r\n    outline: none;\n}\r\n\r\n",""])},9:function(t,e,o){var r=o(31);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(7)(r,i);r.locals&&(t.exports=r.locals)}}]);